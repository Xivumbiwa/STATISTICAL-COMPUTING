[
  {
    "objectID": "STATS_COMP_ASSIGN_2.html",
    "href": "STATS_COMP_ASSIGN_2.html",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "",
    "text": "2.1 QUESTION 1\nlibrary(foreach)\n\nWarning: package 'foreach' was built under R version 4.2.3\n\nlibrary(doParallel)\n\nWarning: package 'doParallel' was built under R version 4.2.3\n\n\nLoading required package: iterators\n\n\nWarning: package 'iterators' was built under R version 4.2.3\n\n\nLoading required package: parallel\n\nresults &lt;- foreach(i = 1:100) %do% {\n  vals &lt;- rexp(100, rate = 1)\n  mean_vals &lt;- mean(vals)\n  var_vals &lt;- var(vals)\n  return(rbind(mean_vals, var_vals))\n\n}\n\nresults\n\n[[1]]\n              [,1]\nmean_vals 1.069902\nvar_vals  1.268060\n\n[[2]]\n               [,1]\nmean_vals 0.8893943\nvar_vals  0.8372961\n\n[[3]]\n               [,1]\nmean_vals 0.9359312\nvar_vals  0.8871806\n\n[[4]]\n              [,1]\nmean_vals 1.042640\nvar_vals  1.245432\n\n[[5]]\n               [,1]\nmean_vals 1.0473093\nvar_vals  0.8521005\n\n[[6]]\n               [,1]\nmean_vals 0.9668626\nvar_vals  0.8523046\n\n[[7]]\n               [,1]\nmean_vals 1.0351228\nvar_vals  0.9887312\n\n[[8]]\n               [,1]\nmean_vals 0.8703293\nvar_vals  0.7973512\n\n[[9]]\n               [,1]\nmean_vals 0.9598476\nvar_vals  0.8496639\n\n[[10]]\n               [,1]\nmean_vals 0.8618899\nvar_vals  0.8127200\n\n[[11]]\n               [,1]\nmean_vals 1.0663562\nvar_vals  0.9450574\n\n[[12]]\n              [,1]\nmean_vals 1.051774\nvar_vals  1.217140\n\n[[13]]\n              [,1]\nmean_vals 0.985275\nvar_vals  1.002663\n\n[[14]]\n              [,1]\nmean_vals 1.066926\nvar_vals  1.364215\n\n[[15]]\n              [,1]\nmean_vals 1.071665\nvar_vals  1.004452\n\n[[16]]\n              [,1]\nmean_vals 1.151878\nvar_vals  1.348876\n\n[[17]]\n               [,1]\nmean_vals 0.8951181\nvar_vals  0.9331196\n\n[[18]]\n              [,1]\nmean_vals 1.062554\nvar_vals  1.042998\n\n[[19]]\n               [,1]\nmean_vals 0.9148579\nvar_vals  1.1179412\n\n[[20]]\n              [,1]\nmean_vals 1.196953\nvar_vals  1.342044\n\n[[21]]\n               [,1]\nmean_vals 0.9875509\nvar_vals  0.8087173\n\n[[22]]\n               [,1]\nmean_vals 0.9945374\nvar_vals  1.0358782\n\n[[23]]\n               [,1]\nmean_vals 1.0270166\nvar_vals  0.8714238\n\n[[24]]\n               [,1]\nmean_vals 0.9890554\nvar_vals  0.8069782\n\n[[25]]\n              [,1]\nmean_vals 1.178555\nvar_vals  1.815607\n\n[[26]]\n               [,1]\nmean_vals 0.9649614\nvar_vals  0.6844120\n\n[[27]]\n              [,1]\nmean_vals 1.103515\nvar_vals  1.113694\n\n[[28]]\n              [,1]\nmean_vals 1.090827\nvar_vals  1.469334\n\n[[29]]\n               [,1]\nmean_vals 0.9669584\nvar_vals  0.9371380\n\n[[30]]\n              [,1]\nmean_vals 1.092031\nvar_vals  1.613415\n\n[[31]]\n              [,1]\nmean_vals 1.046891\nvar_vals  1.321848\n\n[[32]]\n               [,1]\nmean_vals 0.9467046\nvar_vals  0.8816369\n\n[[33]]\n              [,1]\nmean_vals 1.017746\nvar_vals  1.100680\n\n[[34]]\n               [,1]\nmean_vals 0.9169735\nvar_vals  0.8197625\n\n[[35]]\n              [,1]\nmean_vals 1.069973\nvar_vals  1.448307\n\n[[36]]\n              [,1]\nmean_vals 1.075080\nvar_vals  1.147919\n\n[[37]]\n               [,1]\nmean_vals 1.0226464\nvar_vals  0.9626593\n\n[[38]]\n              [,1]\nmean_vals 1.071841\nvar_vals  1.030412\n\n[[39]]\n               [,1]\nmean_vals 1.0267257\nvar_vals  0.9636826\n\n[[40]]\n               [,1]\nmean_vals 0.9988371\nvar_vals  1.1435432\n\n[[41]]\n               [,1]\nmean_vals 1.0209311\nvar_vals  0.7601147\n\n[[42]]\n               [,1]\nmean_vals 0.9955887\nvar_vals  0.9115580\n\n[[43]]\n              [,1]\nmean_vals 1.095908\nvar_vals  0.990739\n\n[[44]]\n               [,1]\nmean_vals 1.0238167\nvar_vals  0.9099447\n\n[[45]]\n               [,1]\nmean_vals 0.9670522\nvar_vals  0.5635056\n\n[[46]]\n               [,1]\nmean_vals 0.9646648\nvar_vals  0.8627493\n\n[[47]]\n               [,1]\nmean_vals 0.8713657\nvar_vals  0.9632796\n\n[[48]]\n              [,1]\nmean_vals 1.151315\nvar_vals  1.054505\n\n[[49]]\n               [,1]\nmean_vals 0.9220462\nvar_vals  0.8991987\n\n[[50]]\n               [,1]\nmean_vals 0.7726974\nvar_vals  0.5833577\n\n[[51]]\n               [,1]\nmean_vals 1.0185139\nvar_vals  0.9836776\n\n[[52]]\n               [,1]\nmean_vals 0.9435404\nvar_vals  1.0541682\n\n[[53]]\n              [,1]\nmean_vals 1.076966\nvar_vals  1.100228\n\n[[54]]\n               [,1]\nmean_vals 0.9268143\nvar_vals  0.6863547\n\n[[55]]\n               [,1]\nmean_vals 0.8955724\nvar_vals  0.8617339\n\n[[56]]\n              [,1]\nmean_vals 1.029497\nvar_vals  1.442720\n\n[[57]]\n               [,1]\nmean_vals 0.8528539\nvar_vals  0.5022537\n\n[[58]]\n               [,1]\nmean_vals 0.8788123\nvar_vals  0.8282973\n\n[[59]]\n              [,1]\nmean_vals 1.133483\nvar_vals  1.084122\n\n[[60]]\n               [,1]\nmean_vals 1.0564632\nvar_vals  0.9915202\n\n[[61]]\n               [,1]\nmean_vals 0.9487840\nvar_vals  0.9854434\n\n[[62]]\n               [,1]\nmean_vals 0.9498059\nvar_vals  0.6815802\n\n[[63]]\n               [,1]\nmean_vals 1.0142240\nvar_vals  0.9585962\n\n[[64]]\n               [,1]\nmean_vals 0.9582861\nvar_vals  0.9922677\n\n[[65]]\n               [,1]\nmean_vals 0.9207514\nvar_vals  0.6160017\n\n[[66]]\n               [,1]\nmean_vals 0.8830805\nvar_vals  0.6925368\n\n[[67]]\n              [,1]\nmean_vals 1.014254\nvar_vals  1.086026\n\n[[68]]\n               [,1]\nmean_vals 0.9724762\nvar_vals  1.0294434\n\n[[69]]\n              [,1]\nmean_vals 1.014925\nvar_vals  0.899853\n\n[[70]]\n              [,1]\nmean_vals 1.029830\nvar_vals  1.075142\n\n[[71]]\n               [,1]\nmean_vals 0.9341427\nvar_vals  1.0787587\n\n[[72]]\n               [,1]\nmean_vals 0.9376435\nvar_vals  0.7917713\n\n[[73]]\n              [,1]\nmean_vals 1.130155\nvar_vals  1.446763\n\n[[74]]\n               [,1]\nmean_vals 0.9576269\nvar_vals  0.8111757\n\n[[75]]\n               [,1]\nmean_vals 0.8735353\nvar_vals  0.6824542\n\n[[76]]\n              [,1]\nmean_vals 1.011663\nvar_vals  1.573574\n\n[[77]]\n              [,1]\nmean_vals 0.945835\nvar_vals  1.275896\n\n[[78]]\n               [,1]\nmean_vals 0.9983516\nvar_vals  0.9218405\n\n[[79]]\n               [,1]\nmean_vals 0.9911567\nvar_vals  1.4156563\n\n[[80]]\n              [,1]\nmean_vals 1.091441\nvar_vals  1.252186\n\n[[81]]\n               [,1]\nmean_vals 0.9430768\nvar_vals  0.9795337\n\n[[82]]\n               [,1]\nmean_vals 0.9175774\nvar_vals  0.9333581\n\n[[83]]\n               [,1]\nmean_vals 0.8372475\nvar_vals  0.5914429\n\n[[84]]\n              [,1]\nmean_vals 1.241607\nvar_vals  1.696325\n\n[[85]]\n               [,1]\nmean_vals 1.0322346\nvar_vals  0.6831608\n\n[[86]]\n               [,1]\nmean_vals 1.0272846\nvar_vals  0.9716698\n\n[[87]]\n              [,1]\nmean_vals 1.090583\nvar_vals  1.009076\n\n[[88]]\n               [,1]\nmean_vals 0.9116406\nvar_vals  0.8257554\n\n[[89]]\n               [,1]\nmean_vals 0.9411411\nvar_vals  0.9254062\n\n[[90]]\n               [,1]\nmean_vals 0.9822750\nvar_vals  0.5828828\n\n[[91]]\n               [,1]\nmean_vals 0.9962501\nvar_vals  1.0852696\n\n[[92]]\n              [,1]\nmean_vals 1.329123\nvar_vals  1.707096\n\n[[93]]\n              [,1]\nmean_vals 1.006210\nvar_vals  1.097836\n\n[[94]]\n               [,1]\nmean_vals 0.8956798\nvar_vals  0.8296290\n\n[[95]]\n               [,1]\nmean_vals 0.9258726\nvar_vals  0.7994178\n\n[[96]]\n               [,1]\nmean_vals 0.8611836\nvar_vals  0.7085206\n\n[[97]]\n               [,1]\nmean_vals 0.9925987\nvar_vals  0.7860336\n\n[[98]]\n              [,1]\nmean_vals 1.059701\nvar_vals  1.279808\n\n[[99]]\n              [,1]\nmean_vals 1.004296\nvar_vals  0.985056\n\n[[100]]\n               [,1]\nmean_vals 0.9830880\nvar_vals  0.9044796",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS_COMP_ASSIGN_2.html#question-2",
    "href": "STATS_COMP_ASSIGN_2.html#question-2",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.2 QUESTION 2",
    "text": "2.2 QUESTION 2\n\nlibrary(foreach)\nlibrary(doParallel)\n\nlibrary(MASS)\ngal &lt;- galaxies\n\nB&lt;- 1000\ntboot &lt;- numeric(B) \n\n#Doing 1000 single bootstraps\nsystem.time({\n  result &lt;- foreach(i = 1:1000, .combine = c, Sys.sleep(0.001)) %do% {\n    tboot[i] &lt;- median(sample(gal, replace=TRUE))\n  }\n})\n\n   user  system elapsed \n      0       0       0 \n\nsystem.time({\n  for (i in 1:B) {\n    tboot[i] &lt;- median(sample(gal, replace = T))\n  }\n})\n\n   user  system elapsed \n   0.07    0.00    0.06 \n\n#Doing 1000 bootstrap samples at a Time\nsystem.time({\n  result &lt;- foreach(i = 1:1000, .combine = c, Sys.sleep(0.001)) %do% {\n    replicate(1000, median(sample(gal, replace=TRUE)))\n  }\n})\n\n   user  system elapsed \n      0       0       0 \n\nR &lt;- 1000  \nbias &lt;- rep(NA, times = R)\ntboot2 &lt;- rep(NA, times = B)  \n\nsystem.time({\nfor (j in 1:1000) {\n  \n  for (i in 1:1000) {\n    tboot2[i] &lt;- median(sample(gal, replace = T))\n  }\n}\n})\n\n   user  system elapsed \n  54.73    1.22   57.63",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS_COMP_ASSIGN_2.html#question-3",
    "href": "STATS_COMP_ASSIGN_2.html#question-3",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.3 QUESTION 3",
    "text": "2.3 QUESTION 3\n\nlibrary(foreach)\nlibrary(doParallel)\n\nn&lt;-50\nu&lt;- rexp(n,rate=1)\nmean.1 &lt;- mean(u)\ntrue_mean &lt;- 1 \n\nB&lt;-1000\nc1 &lt;- c()\nc2 &lt;- c()\nBootstr_mean &lt;- numeric(B)\nresult &lt;- 0\n\n\ncl &lt;- makeCluster(3)\nregisterDoParallel(cl)\n\nresult &lt;- foreach(i= 1:B, .combine='+') %dopar%{\n  samp_data &lt;- rexp(n, rate=1)\n  Bootstr_mean &lt;- replicate(B, mean(sample(samp_data, replace=TRUE)))\n  Percintile &lt;- quantile(Bootstr_mean, c(0.025, 0.975))\n  \n  if (Percintile[1] &lt;= true_mean && Percintile[2] &gt;= true_mean){\n    return(1)\n  } else{\n    return(0)\n  }\n  \n  \n}\n\ncoverage &lt;- result/B\ncoverage\n\n[1] 0.932\n\ncat(\"coverage of a percentile bootstrap confidence interval is \", coverage,\"\\n\")\n\ncoverage of a percentile bootstrap confidence interval is  0.932 \n\nstopCluster(cl)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS_COMP_ASSIGN_2.html#question-4",
    "href": "STATS_COMP_ASSIGN_2.html#question-4",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.4 QUESTION 4",
    "text": "2.4 QUESTION 4\n\nlibrary(foreach)\n\nset.seed(1234)\nresult &lt;- foreach(i = 1:3) %do% {\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n\n}\n\nfor (i in 1:3) {\n  maxi &lt;- max(result[[i]])\n  cat(\"Vector\", i, \"Max:\", maxi, \"\\n\")\n}\n\nVector 1 Max: 0.4595894 \nVector 2 Max: -0.49685 \nVector 3 Max: 2.070271",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS_COMP_ASSIGN_2.html#question-5",
    "href": "STATS_COMP_ASSIGN_2.html#question-5",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.5 QUESTION 5",
    "text": "2.5 QUESTION 5\n\n2.5.1 FOREACH\n\nlibrary(parallel)\nlibrary(foreach)\nlibrary(iterators)\n\nset.seed(1234)\nresult &lt;- function() {\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n}\n\nsystem.time({\n  result1 &lt;- foreach(i = 1:3) %do% {\n    result()\n  }\n\n  for (i in 1:3) {\n    maxi &lt;- max(result1[[i]])\n    print(maxi)\n  }\n})\n\n[1] 0.4595894\n[1] -0.49685\n[1] 2.070271\n\n\n   user  system elapsed \n      0       0       0 \n\n\n\n\n2.5.2 parLapply\n\nlibrary(parallel)\nlibrary(iterators)\n\n\ncl &lt;- makeCluster(3) \nclusterExport(cl, varlist = c(\"result\", \"irnorm\", \"nextElem\"))  \n\nset.seed(1234)\nresult &lt;- function() {\n\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n}\n\n\nsystem.time({\n  result2 &lt;- parLapply(cl, 1:3, function(i) {\n    result()\n  })\n  \n \n  result2 &lt;- do.call(cbind, result2)\n  \n  for (i in 1:3) {\n    maxi &lt;- max(result2[, i])\n    print(maxi)\n  }\n})\n\n[1] 1.204693\n[1] 1.500282\n[1] 1.849769\n\n\n   user  system elapsed \n      0       0       0 \n\nstopCluster(cl)\n\n\n\n\n\n2.5.3 REPLICATE\n\nlibrary(parallel)\nlibrary(iterators)\n\nset.seed(1234)\nresult &lt;- function() {\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n}\n\nsystem.time({\n  result2 &lt;- replicate(n = 3, result())\n\n  for (i in 1:3) {\n    maxi &lt;- max(result2[,i])\n    print(maxi)\n  }\n})\n\n[1] 0.4595894\n[1] -0.49685\n[1] 2.070271\n\n\n   user  system elapsed \n   0.02    0.00    0.02",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  }
]