[
  {
    "objectID": "STATS COMP ASSIGN 2.html",
    "href": "STATS COMP ASSIGN 2.html",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "",
    "text": "2.1 QUESTION 1\nlibrary(foreach)\n\nWarning: package 'foreach' was built under R version 4.2.3\n\nlibrary(doParallel)\n\nWarning: package 'doParallel' was built under R version 4.2.3\n\n\nLoading required package: iterators\n\n\nWarning: package 'iterators' was built under R version 4.2.3\n\n\nLoading required package: parallel\n\nresults &lt;- foreach(i = 1:100) %do% {\n  vals &lt;- rexp(100, rate = 1)\n  mean_vals &lt;- mean(vals)\n  var_vals &lt;- var(vals)\n  return(rbind(mean_vals, var_vals))\n\n}\n\nresults\n\n[[1]]\n               [,1]\nmean_vals 0.9492203\nvar_vals  0.8793183\n\n[[2]]\n              [,1]\nmean_vals 1.146075\nvar_vals  1.213257\n\n[[3]]\n              [,1]\nmean_vals 1.126181\nvar_vals  1.469503\n\n[[4]]\n               [,1]\nmean_vals 0.9724537\nvar_vals  0.9990496\n\n[[5]]\n              [,1]\nmean_vals 1.024374\nvar_vals  1.092447\n\n[[6]]\n               [,1]\nmean_vals 1.0394834\nvar_vals  0.9629629\n\n[[7]]\n               [,1]\nmean_vals 1.0638726\nvar_vals  0.6303463\n\n[[8]]\n              [,1]\nmean_vals 1.063729\nvar_vals  1.235168\n\n[[9]]\n               [,1]\nmean_vals 0.8427229\nvar_vals  0.6390775\n\n[[10]]\n               [,1]\nmean_vals 0.9818428\nvar_vals  1.0240910\n\n[[11]]\n               [,1]\nmean_vals 0.8017431\nvar_vals  0.5738253\n\n[[12]]\n              [,1]\nmean_vals 1.038267\nvar_vals  1.252018\n\n[[13]]\n               [,1]\nmean_vals 0.8491856\nvar_vals  0.8343388\n\n[[14]]\n              [,1]\nmean_vals 1.081682\nvar_vals  1.033681\n\n[[15]]\n              [,1]\nmean_vals 1.057962\nvar_vals  1.018404\n\n[[16]]\n              [,1]\nmean_vals 1.099614\nvar_vals  1.669884\n\n[[17]]\n              [,1]\nmean_vals 1.176809\nvar_vals  1.043042\n\n[[18]]\n               [,1]\nmean_vals 0.9105181\nvar_vals  0.9418728\n\n[[19]]\n              [,1]\nmean_vals 1.176451\nvar_vals  1.604628\n\n[[20]]\n               [,1]\nmean_vals 0.9205357\nvar_vals  0.9410624\n\n[[21]]\n              [,1]\nmean_vals 1.003418\nvar_vals  1.061069\n\n[[22]]\n               [,1]\nmean_vals 0.9884299\nvar_vals  1.0047760\n\n[[23]]\n               [,1]\nmean_vals 0.9567523\nvar_vals  0.7755285\n\n[[24]]\n              [,1]\nmean_vals 1.081481\nvar_vals  1.209620\n\n[[25]]\n               [,1]\nmean_vals 0.9172383\nvar_vals  0.7393501\n\n[[26]]\n               [,1]\nmean_vals 0.8911626\nvar_vals  0.8302315\n\n[[27]]\n               [,1]\nmean_vals 1.0231345\nvar_vals  0.9110192\n\n[[28]]\n              [,1]\nmean_vals 1.134633\nvar_vals  1.620192\n\n[[29]]\n               [,1]\nmean_vals 0.9810505\nvar_vals  1.0847305\n\n[[30]]\n               [,1]\nmean_vals 0.9907768\nvar_vals  1.1008934\n\n[[31]]\n              [,1]\nmean_vals 1.037817\nvar_vals  1.005706\n\n[[32]]\n               [,1]\nmean_vals 0.9751502\nvar_vals  1.4122298\n\n[[33]]\n              [,1]\nmean_vals 1.068571\nvar_vals  0.709567\n\n[[34]]\n               [,1]\nmean_vals 0.8805851\nvar_vals  0.8415987\n\n[[35]]\n               [,1]\nmean_vals 0.9680065\nvar_vals  1.2522222\n\n[[36]]\n              [,1]\nmean_vals 1.072707\nvar_vals  1.119286\n\n[[37]]\n              [,1]\nmean_vals 1.125581\nvar_vals  1.906477\n\n[[38]]\n               [,1]\nmean_vals 0.7974466\nvar_vals  0.7049365\n\n[[39]]\n               [,1]\nmean_vals 0.9686033\nvar_vals  0.9625052\n\n[[40]]\n               [,1]\nmean_vals 0.9849967\nvar_vals  1.2906573\n\n[[41]]\n               [,1]\nmean_vals 0.9101336\nvar_vals  0.8563067\n\n[[42]]\n               [,1]\nmean_vals 0.9606219\nvar_vals  0.9210754\n\n[[43]]\n               [,1]\nmean_vals 0.8990664\nvar_vals  0.7207334\n\n[[44]]\n              [,1]\nmean_vals 1.213804\nvar_vals  1.734543\n\n[[45]]\n               [,1]\nmean_vals 0.9397387\nvar_vals  0.7463452\n\n[[46]]\n               [,1]\nmean_vals 0.8641038\nvar_vals  0.7116865\n\n[[47]]\n               [,1]\nmean_vals 1.0592289\nvar_vals  0.9701759\n\n[[48]]\n              [,1]\nmean_vals 1.068580\nvar_vals  1.009138\n\n[[49]]\n               [,1]\nmean_vals 0.8627057\nvar_vals  0.9392259\n\n[[50]]\n               [,1]\nmean_vals 0.8348376\nvar_vals  0.8186723\n\n[[51]]\n              [,1]\nmean_vals 1.125602\nvar_vals  1.260971\n\n[[52]]\n               [,1]\nmean_vals 0.8600557\nvar_vals  0.7903083\n\n[[53]]\n              [,1]\nmean_vals 1.144691\nvar_vals  1.451893\n\n[[54]]\n               [,1]\nmean_vals 0.9158517\nvar_vals  0.7421961\n\n[[55]]\n               [,1]\nmean_vals 0.9329614\nvar_vals  0.7827292\n\n[[56]]\n               [,1]\nmean_vals 0.8681989\nvar_vals  0.8869624\n\n[[57]]\n               [,1]\nmean_vals 0.8340428\nvar_vals  0.7957581\n\n[[58]]\n              [,1]\nmean_vals 1.158695\nvar_vals  1.301343\n\n[[59]]\n               [,1]\nmean_vals 0.8935238\nvar_vals  0.8556511\n\n[[60]]\n               [,1]\nmean_vals 0.9758234\nvar_vals  1.1037442\n\n[[61]]\n               [,1]\nmean_vals 0.8686362\nvar_vals  0.8572900\n\n[[62]]\n               [,1]\nmean_vals 1.0626556\nvar_vals  0.9279153\n\n[[63]]\n               [,1]\nmean_vals 0.8758627\nvar_vals  0.7011514\n\n[[64]]\n               [,1]\nmean_vals 0.9081729\nvar_vals  0.9293977\n\n[[65]]\n               [,1]\nmean_vals 0.9459960\nvar_vals  0.7696159\n\n[[66]]\n              [,1]\nmean_vals 1.108448\nvar_vals  1.115252\n\n[[67]]\n               [,1]\nmean_vals 1.0455830\nvar_vals  0.7936973\n\n[[68]]\n              [,1]\nmean_vals 1.075316\nvar_vals  1.162165\n\n[[69]]\n               [,1]\nmean_vals 1.0126179\nvar_vals  0.7145948\n\n[[70]]\n              [,1]\nmean_vals 1.077695\nvar_vals  1.237190\n\n[[71]]\n              [,1]\nmean_vals 1.059371\nvar_vals  1.131108\n\n[[72]]\n               [,1]\nmean_vals 0.9522058\nvar_vals  0.8351279\n\n[[73]]\n               [,1]\nmean_vals 0.9557999\nvar_vals  0.9005836\n\n[[74]]\n               [,1]\nmean_vals 0.8731702\nvar_vals  0.8355890\n\n[[75]]\n              [,1]\nmean_vals 1.014708\nvar_vals  1.343776\n\n[[76]]\n               [,1]\nmean_vals 0.9955152\nvar_vals  0.7331267\n\n[[77]]\n               [,1]\nmean_vals 0.9644493\nvar_vals  0.9639254\n\n[[78]]\n               [,1]\nmean_vals 0.8950102\nvar_vals  0.7962660\n\n[[79]]\n               [,1]\nmean_vals 0.9435899\nvar_vals  0.9066336\n\n[[80]]\n               [,1]\nmean_vals 0.9852853\nvar_vals  0.9959573\n\n[[81]]\n               [,1]\nmean_vals 0.8947101\nvar_vals  0.7512121\n\n[[82]]\n               [,1]\nmean_vals 0.9263955\nvar_vals  0.9133068\n\n[[83]]\n              [,1]\nmean_vals 1.027709\nvar_vals  0.714977\n\n[[84]]\n              [,1]\nmean_vals 0.992014\nvar_vals  1.025456\n\n[[85]]\n              [,1]\nmean_vals 1.040842\nvar_vals  1.050082\n\n[[86]]\n              [,1]\nmean_vals 1.037982\nvar_vals  1.399459\n\n[[87]]\n               [,1]\nmean_vals 0.9368610\nvar_vals  0.9540087\n\n[[88]]\n               [,1]\nmean_vals 0.8759037\nvar_vals  0.7140709\n\n[[89]]\n               [,1]\nmean_vals 0.9084019\nvar_vals  0.5882913\n\n[[90]]\n               [,1]\nmean_vals 0.9476340\nvar_vals  0.5646305\n\n[[91]]\n              [,1]\nmean_vals 1.043255\nvar_vals  1.183373\n\n[[92]]\n               [,1]\nmean_vals 0.9278166\nvar_vals  0.7858951\n\n[[93]]\n               [,1]\nmean_vals 0.9633846\nvar_vals  0.6336435\n\n[[94]]\n               [,1]\nmean_vals 0.9591337\nvar_vals  1.0200141\n\n[[95]]\n              [,1]\nmean_vals 1.083721\nvar_vals  1.103904\n\n[[96]]\n              [,1]\nmean_vals 1.215399\nvar_vals  1.460946\n\n[[97]]\n               [,1]\nmean_vals 0.9541723\nvar_vals  0.7169040\n\n[[98]]\n               [,1]\nmean_vals 0.8790563\nvar_vals  0.8061225\n\n[[99]]\n              [,1]\nmean_vals 1.178417\nvar_vals  1.267720\n\n[[100]]\n               [,1]\nmean_vals 0.8304193\nvar_vals  0.6243446",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS COMP ASSIGN 2.html#question-2",
    "href": "STATS COMP ASSIGN 2.html#question-2",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.2 QUESTION 2",
    "text": "2.2 QUESTION 2\n\nlibrary(foreach)\nlibrary(doParallel)\n\nlibrary(MASS)\ngal &lt;- galaxies\n\nB&lt;- 1000\ntboot &lt;- numeric(B) \n\n#Doing 1000 single bootstraps\nsystem.time({\n  result &lt;- foreach(i = 1:1000, .combine = c) %do% {\n    tboot[i] &lt;- median(sample(gal, replace=TRUE))\n  }\n})\n\nsystem.time({\n  for (i in 1:B) {\n    tboot[i] &lt;- median(sample(gal, replace = T))\n  }\n})\n\n#Doing 1000 bootstrap samples at a Time\nsystem.time({\n  result &lt;- foreach(i = 1:1000, .combine = c) %do% {\n    replicate(1000, median(sample(gal, replace=TRUE)))\n  }\n})\nR &lt;- 1000  \nbias &lt;- rep(NA, times = R)\ntboot2 &lt;- rep(NA, times = B)  \n\nsystem.time({\nfor (j in 1:1000) {\n  \n  for (i in 1:1000) {\n    tboot2[i] &lt;- median(sample(gal, replace = T))\n  }\n}\n})",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS COMP ASSIGN 2.html#question-3",
    "href": "STATS COMP ASSIGN 2.html#question-3",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.3 QUESTION 3",
    "text": "2.3 QUESTION 3\n\nlibrary(foreach)\nlibrary(doParallel)\n\nn&lt;-50\nu&lt;- rexp(n,rate=1)\nmean.1 &lt;- mean(u)\ntrue_mean &lt;- 1 \n\nB&lt;-1000\nc1 &lt;- c()\nc2 &lt;- c()\nBootstr_mean &lt;- numeric(B)\nresult &lt;- 0\n\n\ncl &lt;- makeCluster(3)\nregisterDoParallel(cl)\n\nresult &lt;- foreach(i= 1:B, .combine='+') %dopar%{\n  samp_data &lt;- rexp(n, rate=1)\n  Bootstr_mean &lt;- replicate(B, mean(sample(samp_data, replace=TRUE)))\n  Percintile &lt;- quantile(Bootstr_mean, c(0.025, 0.975))\n  \n  if (Percintile[1] &lt;= true_mean && Percintile[2] &gt;= true_mean){\n    return(1)\n  } else{\n    return(0)\n  }\n  \n  \n}\n\ncoverage &lt;- result/B\ncoverage\ncat(\"coverage of a percentile bootstrap confidence interval is \", coverage,\"\\n\")\nstopCluster(cl)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS COMP ASSIGN 2.html#question-4",
    "href": "STATS COMP ASSIGN 2.html#question-4",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.4 QUESTION 4",
    "text": "2.4 QUESTION 4\n\nlibrary(foreach)\n\nset.seed(1234)\nresult &lt;- foreach(i = 1:3) %do% {\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n\n}\n\nfor (i in 1:3) {\n  maxi &lt;- max(result[[i]])\n  cat(\"Vector\", i, \"Max:\", maxi, \"\\n\")\n}",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  },
  {
    "objectID": "STATS COMP ASSIGN 2.html#question-5",
    "href": "STATS COMP ASSIGN 2.html#question-5",
    "title": "2  STATS COMPUTING ASSIGNMENT 2",
    "section": "2.5 QUESTION 5",
    "text": "2.5 QUESTION 5\n\n2.5.1 FOREACH\n\nlibrary(parallel)\nlibrary(foreach)\nlibrary(iterators)\n\nset.seed(1234)\nresult &lt;- function() {\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n}\n\nsystem.time({\n  result1 &lt;- foreach(i = 1:3) %do% {\n    result()\n  }\n\n  for (i in 1:3) {\n    maxi &lt;- max(result1[[i]])\n    print(maxi)\n  }\n})\n\n\n\n2.5.2 parLapply\n\nlibrary(parallel)\nlibrary(iterators)\n\n\ncl &lt;- makeCluster(3) \nclusterExport(cl, varlist = c(\"result\", \"irnorm\", \"nextElem\"))  \n\nset.seed(1234)\nresult &lt;- function() {\n\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n}\n\n\nsystem.time({\n  result2 &lt;- parLapply(cl, 1:3, function(i) {\n    result()\n  })\n  \n \n  result2 &lt;- do.call(cbind, result2)\n  \n  for (i in 1:3) {\n    maxi &lt;- max(result2[, i])\n    print(maxi)\n  }\n})\n\n\nstopCluster(cl)\n\n\n\n\n\n2.5.3 REPLICATE\n\nlibrary(parallel)\nlibrary(iterators)\n\nset.seed(1234)\nresult &lt;- function() {\n  it &lt;- irnorm(5)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n  nextElem(it)\n}\n\nsystem.time({\n  result2 &lt;- replicate(n = 3, result())\n\n  for (i in 1:3) {\n    maxi &lt;- max(result2[,i])\n    print(maxi)\n  }\n})",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>STATS COMPUTING ASSIGNMENT 2</span>"
    ]
  }
]